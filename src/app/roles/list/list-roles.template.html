<div *ngIf="View==1">
<ol class="breadcrumb">
  <li class="breadcrumb-item">Inicio</li>
  <li class="breadcrumb-item active">Roles</li>
</ol>
<h1 class="page-title"><span class="fw-semi-bold">Roles</span></h1>
<div class="row">
  <div class="col-lg-12">
    <section class="widget" widget>
      <header>
        <h6>Listado de roles</h6>
        <div class="widget-controls">
          <a *ngIf="Enter==1"  tooltip="Ingresar nuevo rol" tooltipPlacement="left" [routerLink]="'../insert'"><i class="fa fa-plus"></i></a>
          <a (click)="LoadList()"><i class="fa fa-refresh"></i></a>
        </div>
      </header>
      <div class="widget-body">
        <table class="table">
          <thead>
            <th></th>
            <th>Nombre del rol</th>
            <th>Estado</th>
            <th class="text-right"></th>
          </thead>
          <tbody>
            <tr *ngFor="let Role of Roles">
              <td></td>
              <td>{{Role.name}}</td>
              <td>{{Role.state == 1 ? 'Activo' : 'Inactivo'}}</td>
              <td class="text-xs-right">
                <button *ngIf="Actualize==1" type="button" class="btn btn-primary" title="Actualizar" [routerLink]="['/app/roles/update', Role.idrole]"><i class="fa fa-pencil"></i></button>
                <button *ngIf="Remove==1" type="button"  data-toggle="modal" [attr.data-target]="'#myModal'+Role.idrole" [attr.title]="Role.state == 1 ? 'Desactivar' : 'Activar'" [ngClass]="Role.state == 1 ? 'btn btn-danger' : 'btn btn-success'">
                  <i [ngClass]="Role.state == 1 ? 'fa fa-unlock-alt' : 'fa fa-unlock'"></i>
                </button>
              </td>
              <div *ngIf="Remove==1" class="modal fade" [attr.id]="'myModal'+Role.idrole" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog" role="document">
                  <div class="modal-content">
                    <div class="modal-header">
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                      <h4 class="modal-title" id="myModalLabel">{{Role.state == 1 ? 'Inhabilitar' : 'Habilitar'}} Rol</h4>
                    </div>
                    <div class="modal-body">
                    Â¿Desea {{Role.state == 1 ? 'Inhabilitar' : 'Habilitar'}} el rol de {{Role.name}}?
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-gander" data-dismiss="modal">Cancelar</button>
                        <button type="button" class="btn btn-primary" (click)="changeState(Role.idrole, Role.state)" data-dismiss="modal">Aceptar</button>
                      </div>
                  </div>
                </div>
              </div>
            </tr>
          </tbody>
        </table>
      </div>
    </section>
  </div>
</div>
</div>

