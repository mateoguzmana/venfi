!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/http"),require("@ng-idle/core")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/http","@ng-idle/core"],t):t((e.ngidle=e.ngidle||{},e.ngidle.keepalive=e.ngidle.keepalive||{}),e.ng.core,e.ng.http,e.ng.core)}(this,function(e,t,n,i){"use strict";var r=function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=function(e){function i(n){e.call(this),this.http=n,this.pingInterval=600,this.onPing=new t.EventEmitter,this.onPingResponse=new t.EventEmitter}return r(i,e),i.prototype.request=function(e){return"string"==typeof e?this.pingRequest=new n.Request({method:n.RequestMethod.Get,url:e}):e instanceof n.Request?this.pingRequest=e:null===e&&(this.pingRequest=null),this.pingRequest},i.prototype.interval=function(e){if(!isNaN(e)&&e>0)this.pingInterval=e;else if(!isNaN(e)&&e<=0)throw new Error("Interval value must be greater than zero.");return this.pingInterval},i.prototype.ping=function(){var e=this;this.onPing.emit(null),this.pingRequest&&this.http.request(this.pingRequest).subscribe(function(t){e.onPingResponse.emit(t)})},i.prototype.start=function(){var e=this;this.stop(),this.pingHandle=setInterval(function(){e.ping()},1e3*this.pingInterval)},i.prototype.stop=function(){this.pingHandle&&(clearInterval(this.pingHandle),this.pingHandle=null)},i.prototype.ngOnDestroy=function(){this.stop()},i.prototype.isRunning=function(){return!!this.pingHandle},i.decorators=[{type:t.Injectable}],i.ctorParameters=[{type:n.Http}],i}(i.KeepaliveSvc),s=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[o,{provide:i.KeepaliveSvc,useExisting:o}]}},e.decorators=[{type:t.NgModule,args:[{imports:[i.NgIdleModule.forRoot()]}]}],e.ctorParameters=[],e}();e.NgIdleKeepaliveModule=s,e.Keepalive=o,Object.defineProperty(e,"__esModule",{value:!0})});
